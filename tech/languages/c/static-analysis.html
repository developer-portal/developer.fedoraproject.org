<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Static Analysis &mdash; Fedora Developer Portal</title>
  <meta name="description" content="Fedora Developer Portal provides information for developers running  Fedora on their workstation or virtual machines.
">
  <link rel="canonical" href="http://developer.fedoraproject.org/tech/languages/c/static-analysis.html">
  <!-- Link to Sitemap -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
  <link href="/css/main.css" rel="stylesheet" media="screen, print">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300">
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <!-- Site search -->
  <script src="/js/search.min.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
    $(function() {
      $('#search-query').lunrSearch({
        indexUrl: '/js/index.json',   // Url for the .json file containing search index data
        results : '#search-results',  // selector for containing search results element
        entries : '.entries',         // selector for search entries containing element (contained within results above)
        template: '#search-results-template'  // selector for Mustache.js template
      });
    });
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-69605821-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>
  <body>
    <!-- The top blue thing -->
    <div id="splash" class="splash-size-small splash-section-tech">
      <div class="container">
        <div class="row" id="top">
  <div class="col-sm-2" id="logo-col">
    <div class="text-center">
      <h1>
        <a href="/">
          <img src="/static/logo_white.png" style="height: 46px; width: 152px;">
          <span>Fedora Developer Portal</span>
        </a>
      </h1>
    </div>
  </div>
  <div class="col-sm-7" id="menu-col">
    <nav>
  <ul class="nav navbar-nav">
    <li class="">
      <a href="/start.html">Start a project</a>
    </li>
    <li class="">
      <a href="/tools.html">Get tools</a>
    </li>
    <li class=" active ">
      <a href="/tech.html">Languages &amp; databases</a>
    </li>
    <li class="">
      <a href="/deployment.html">Deploy and distribute</a>
    </li>
    <!--
    <li class="">
      <a href="/">Resources</a>
    </li>
    <li class="">
      <a href="/">Blogs</a>
    </li>
    -->
  </ul>
</nav>
  </div>
  <div class="col-sm-3" id="search-col">
  <form class="input-group" id="search" action="/search.html" method="get">
    <input type="text" id="search-query" class="form-control" name="q" placeholder="Search" autocomplete="off">
    <span class="input-group-btn">
      <button class="btn btn-default glyphicon glyphicon-search" type="submit" aria-hidden="true"></button>
    </span>
  </form>
  <section id="search-results" style="display: none;">
    <div class="entries">
    </div>
  </section>
  <script id="search-results-template" type="text/mustache">
    {{#entries}}
      <article>
        <a href="{{url}}">{{title}}</a>
      </article>
    {{/entries}}
  </script>
  </div>
</div>
        <div class="row" id="headlines">
  <div class="col-sm-12">
          <img class="img-rounded" src="/static/logo/c.png">
          <h2>C</h2>
          <p>A general-purpose, imperative computer programming language.</p>
  </div>
</div>
<div class="row" id="attribution">
  <div class="col-sm-12">
    <a href=""></a>
  </div>
</div>
      </div>
    </div>
    <!-- Content -->
    <div class="container">
      <div class="row">
        <div class="col-sm-3">
          <div class="list-group content-menu">
                <a href="/tech/languages/c/c_installation.html" class="list-group-item ">C</a>
                <a href="/tech/languages/c/cpp_installation.html" class="list-group-item ">C++</a>
                <a href="/tech/languages/c/autotools.html" class="list-group-item ">Autotools</a>
                <a href="/tech/languages/c/cmake.html" class="list-group-item ">CMake</a>
                <a href="/tech/languages/c/c-devassistant.html" class="list-group-item ">C and C++ assistants for DevAssistant</a>
                <a href="/tech/languages/c/static-analysis.html" class="list-group-item  active ">Static Analysis</a>
                <a href="/tech/languages/c/gtk.html" class="list-group-item ">Gtk+</a>
          </div>
          <div class="panel panel-default">
            <div class="panel-body" style="padding-top:8px;padding-bottom:8px">
              <div id="ask-fedora">
  Have a question?
    <a href="//ask.fedoraproject.org/">Ask Fedora.</a>
</div>
            </div>
          </div>
          <a href="https://github.com/developer-portal/content/blob/master//tech/languages/c//static-analysis.md" class="btn btn-default">Edit this page</a>
        </div>
        <div class="col-sm-9">
          <div class="panel panel-default content-content">
            <h1 id="static-analysis">Static Analysis</h1>
<p>Static analysis is a technique of analyzing programs without executing them.
It is often used in compilers for code optimizations and producing warnings.
We have several static analyzers in Fedora that can be used to automatically
detect programming mistakes by analyzing source code only.  Especially for
statically typed languages (like C/C++), static analyzers can significantly
help us to catch various classes of bugs in our code before it ever runs.</p>
<p>There are various optional diagnostics in GCC that could be enabled by
<code class="highlighter-rouge">-W...</code> compilation flags.  Besides the built-in GCC diagnostic, we can use
standalone static analyzers for C/C++, such as
<a href="http://cppcheck.sourceforge.net/">Cppcheck</a>,
<a href="http://clang-analyzer.llvm.org/">Clang</a>, or
<a href="https://sparse.wiki.kernel.org">Sparse</a>.  There are also static
analyzers for dynamically typed languages – for
example <a href="http://www.shellcheck.net/about.html">ShellCheck</a>, which analyzes
shell scripts, or <a href="http://www.pylint.org/">Pylint</a>, which analyzes programs
written in Python.</p>
<h2 id="using-csbuild-to-analyze-cc-programs">Using csbuild to analyze C/C++ programs</h2>
<p>In order to make it easier to use static analyzers by C/C++ developers, there
is a utility named <code class="highlighter-rouge">csbuild</code> that runs static analyzers in background fully
transparently.  You can install csbuild by dnf, which will also pull the needed
static analyzers as dependencies:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>sudo dnf install csbuild
</code></pre>
</div>
<p>Its usage is as easy as:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>csbuild -c 'make ...'
</code></pre>
</div>
<p>… where you replace <code class="highlighter-rouge">make ...</code> by the actual command you use to compile
your project.  By running the above command, you will get extended diagnostic
produced by GCC and the output of Cppcheck and Clang analyzers for the modules
that were (re)compiled during the build.</p>
<h2 id="differential-scans">Differential scans</h2>
<p>If your project is tracked in a git repository, you can use csbuild for
differential scans to check for added (or fixed) bugs between a pair of git
revisions.  For example, before you push your commits in the master branch of
your project to a public git repository, you can first check that you are not
introducing any new bugs in those commits:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>csbuild -g origin/master..master -c "make ..."
</code></pre>
</div>
<p>In this mode, only bugs introduced between the specified pair of revisions are
reported.  You can use the <code class="highlighter-rouge">--print-fixed</code> option to print also bugs that
were fixed between the pair of revisions.  You can also use the
<code class="highlighter-rouge">---git-bisect</code> option to find the exact commit that introduced a new bug:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>csbuild -g origin/master..master -c "make clean &amp;&amp; make ..." --git-bisect
</code></pre>
</div>
<p>The complexity of the search algorithm is logarithmic, which means that for a
search in 1024 commits, only 10 builds are needed.  For these options to work,
you need to use a build command that fully rebuilds all sources.</p>
<h2 id="travis-ci-and-static-analysis">Travis CI and static analysis</h2>
<p><a href="https://travis-ci.org/">Travis CI</a> is a freely avilable CI (Continuous
Integration) service, which is integrated with <a href="https://github.com/">GitHub</a>.
If you have a repository on GitHub, you can configure Travis CI to run a series
of tests each time you push new commits into your repository.  This is normally
used to monitor that the latest version of your project can be built from
sources and that its test-suite still passes (if you have one).</p>
<p>csbuild allows you to run static analyzers automatically whenever you push new
commits to your repository so that, if new bugs are detected by static
analysis, you are notified by an e-mail from Travis CI.  You can achieve this
by using the <code class="highlighter-rouge">--gen-travis-yml</code> option of csbuild to generate a
configuration file for Travis CI.  In this mode, you also need to use the
<code class="highlighter-rouge">--install</code> option to specify dependencies required for build of your
project.  It expects a space-separated list of packages that can be installed on
Ubuntu LTS.  The command in the following example generates a Travis CI
configuration file to enable static analysis for <a href="http://curl.haxx.se/">curl</a>:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>csbuild -c "./buildconf &amp;&amp; ./configure &amp;&amp; make -j5" \
        --install libtool --git-bisect \
        --gen-travis-yml &gt; .travis.yml
</code></pre>
</div>
<p>Then you commit the generated file <code class="highlighter-rouge">.travis.yml</code> to your repository and
push:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>git add .travis.yml
git commit -m "notify me about newly introduced bugs"
git push
</code></pre>
</div>
<p>Finally, you enable Travis CI for your GitHub repository at
<a href="https://travis-ci.org/profile">https://travis-ci.org/profile</a> and you are done!</p>
          </div>
        </div>
      </div>
    </div>
    <!-- Some other stuff -->
    <div class=" banner-contribute">
  <div class="container">
    <h2> Share your knowledge </h2>
    <p> Fedora Developer Portal is a community effort to share guides and information about open-source development. And we need your help! </p>
    <a href="http://developer-portal.github.io/contributing/" class="btn btn-primary">Learn how to contribute</a>
  </div>
</div>
    <footer class="footer">
  <div class="container">
    <div class="row footerlinks">
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title">About</h3>
        <div class="widget-body">
          <dl>
            <dd><a href="/about.html">About Developer Portal</a></dd>
            <dd><a href="//getfedora.org/en/sponsors">About Fedora</a></dd>
            <dd><a href="//getfedora.org/en/sponsors">Sponsors</a></dd>
            <dd><a href="http://fedoramagazine.org">Fedora Magazine</a></dd>
            <dd><a href="//fedoraproject.org/wiki/Legal:Main#Legal">Legal</a></dd>
          </dl>
          <ul class="list-inline">
            <li>
              <a class="btn-social btn-outline" href="//www.facebook.com/TheFedoraProject"><i class="fa fa-fw fa-facebook"></i></a>
            </li>
            <li>
              <a class="btn-social btn-outline" href="//plus.google.com/112917221531140868607"><i class="fa fa-fw fa-google-plus"></i></a>
            </li>
            <li>
              <a class="btn-social btn-outline" href="//twitter.com/fedora"><i class="fa fa-fw fa-twitter"></i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title uppercase">Download</h3>
        <div class="widget-body">
          <dl>
            <dd><a href="//getfedora.org/en/workstation/download">Get Fedora Workstation</a></dd>
            <dd><a href="//getfedora.org/en/server/download">Get Fedora Server</a></dd>
            <dd><a href="//getfedora.org/en/cloud/download">Get Fedora Cloud</a></dd>
            <dd><a href="//spins.fedoraproject.org">Fedora Spins</a></dd>
            <dd><a href="//labs.fedoraproject.org">Fedora Labs</a></dd>
            <dd><a href="//arm.fedoraproject.org">Fedora ARM<span class="sup">&reg;</span></a></dd>
            <dd><a href="http://torrents.fedoraproject.org">Torrent Downloads</a></dd>
          </dl>
        </div>
      </div>
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title">Support</h3>
          <div class="widget-body">
            <dl>
              <dd><a href="//fedoraproject.org/wiki/Communicating_and_getting_help">Get Help</a></dd>
              <dd><a href="//ask.fedoraproject.org/">Ask Fedora</a></dd>
              <dd><a href="http://fedoraforum.org/">Forums</a></dd>
              <dd><a href="//fedoraproject.org/wiki/Common_F22_bugs">Common Bugs</a></dd>
              <dd><a href="//docs.fedoraproject.org/en-US/Fedora/22/html/Installation_Guide">Installation Guide</a></dd>
            </dl>
          </div>
        </div>
        <div class="col-sm-3 col-xs-6 widget">
          <h3 class="widget-title">Join</h3>
            <div class="widget-body">
            <dl>
              <dd><a href="//fedoraproject.org/wiki/Join">Join Fedora</a></dd>
              <dd><a href="http://fedoraplanet.org">Planet Fedora</a></dd>
              <dd><a href="//fedoraproject.org/wiki/SIGs">Fedora SIGs</a></dd>
              <dd><a href="//admin.fedoraproject.org/accounts/">Fedora Account System</a></dd>
              <dd><a href="http://fedoracommunity.org/">Fedora Community</a></dd>
            </dl>
          </div>
        </div>
      </div> <!-- /row of widgets -->
      <div class="row">
        <div class="col-md-2">
          <div class="widget-body">
            <a href="http://www.redhat.com/"><img alt="Red Hat Logo" src="/static/logo/redhat.png" class="rh-logo"></a>
          </div>
        </div>
        <div class="col-md-7">
          <div class="widget-body">
            <p class="sponsor">Fedora is sponsored by Red Hat.</p>
            <p class="sponsor"><a href="//www.redhat.com/en/technologies/linux-platforms/articles/relationship-between-fedora-and-rhel">Learn more about the relationship between Red Hat and Fedora »</a></p>
            <p class="copy">&copy; 2015 Red Hat, Inc. and others.</p>
          </div>
        </div>
        <!-- /row of widgets -->
      </div>
</footer>
  </body>
</html>
