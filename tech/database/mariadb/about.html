<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MariaDB &mdash; Fedora Developer Portal</title>
  <meta name="description" content="Fedora Developer Portal provides information for developers running  Fedora on their workstation or virtual machines.
">
  <link rel="canonical" href="http://developer.fedoraproject.org/tech/database/mariadb/about.html">
  <!-- Link to Sitemap -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
  <link href="/css/main.css" rel="stylesheet" media="screen, print">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300">
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <!-- Site search -->
  <script src="/js/search.min.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
    $(function() {
      $('#search-query').lunrSearch({
        indexUrl: '/js/index.json',   // Url for the .json file containing search index data
        results : '#search-results',  // selector for containing search results element
        entries : '.entries',         // selector for search entries containing element (contained within results above)
        template: '#search-results-template'  // selector for Mustache.js template
      });
    });
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-69605821-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>
  <body>
  <div style="background-color: #333">
<div class="container">
<div style="margin-bottom: 6px; margin-top: 6px" class="alert alert-warning">
<span class="pficon pficon-warning-triangle-o"></span>
  <strong> This is a development server. </strong>
  See the <a href="https://fedoraproject.org/wiki/Websites/Developer"> project wiki </a> for more information or visit the <b><a href="https://developer.fedoraproject.org"> Fedora Developer Portal</a></b> itself.
</div>
</div>
</div>
    <!-- The top blue thing -->
    <div id="splash" class="splash-size-small splash-section-tech">
      <div class="container">
        <div class="row" id="top">
  <div class="col-sm-2" id="logo-col">
    <div class="text-center">
      <h1>
        <a href="/">
          <img src="/static/logo_white.png" style="height: 46px; width: 152px;">
          <span>Fedora Developer Portal</span>
        </a>
      </h1>
    </div>
  </div>
  <div class="col-sm-7" id="menu-col">
    <nav>
  <ul class="nav navbar-nav">
    <li class="">
      <a href="/start.html">Start a project</a>
    </li>
    <li class="">
      <a href="/tools.html">Get tools</a>
    </li>
    <li class=" active ">
      <a href="/tech.html">Languages &amp; databases</a>
    </li>
    <li class="">
      <a href="/deployment.html">Deploy and distribute</a>
    </li>
    <!--
    <li class="">
      <a href="/">Resources</a>
    </li>
    <li class="">
      <a href="/">Blogs</a>
    </li>
    -->
  </ul>
</nav>
  </div>
  <div class="col-sm-3" id="search-col">
  <form class="input-group" id="search" action="/search.html" method="get">
    <input type="text" id="search-query" class="form-control" name="q" placeholder="Search" autocomplete="off">
    <span class="input-group-btn">
      <button class="btn btn-default glyphicon glyphicon-search" type="submit" aria-hidden="true"></button>
    </span>
  </form>
  <section id="search-results" style="display: none;">
    <div class="entries">
    </div>
  </section>
  <script id="search-results-template" type="text/mustache">
    {{#entries}}
      <article>
        <a href="{{url}}">{{title}}</a>
      </article>
    {{/entries}}
  </script>
  </div>
</div>
        <div class="row" id="headlines">
  <div class="col-sm-12">
          <img class="img-rounded" src="/static/logo/mariadb.png">
          <h2>MariaDB</h2>
          <p>Transactional SQL database, an enhanced drop-in replacement for MySQL.</p>
  </div>
</div>
<div class="row" id="attribution">
  <div class="col-sm-12">
    <a href=""></a>
  </div>
</div>
      </div>
    </div>
    <!-- Content -->
    <div class="container">
      <div class="row">
        <div class="col-sm-3">
          <div class="list-group content-menu">
                <a href="/tech/database/mariadb/about.html" class="list-group-item  active ">MariaDB</a>
          </div>
          <div class="panel panel-default">
            <div class="panel-body" style="padding-top:8px;padding-bottom:8px">
              <div id="ask-fedora">
  Have a question?
    <a href="//ask.fedoraproject.org/">Ask Fedora.</a>
</div>
            </div>
          </div>
          <a href="https://github.com/developer-portal/content/blob/master//tech/database/mariadb//about.md" class="btn btn-default">Edit this page</a>
        </div>
        <div class="col-sm-9">
          <div class="panel panel-default content-content">
            <h1 id="mariadb-sql-database">MariaDB SQL database</h1>
<p><a href="https://mariadb.org/en/about/">MariaDB</a> is a drop-in replacement of MySQL, forked by the community from the latter. To learn more about MariaDB, visit <a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-features/">upstream feature page</a>, and to see main differences from MySQL, see <a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-compatibility/">compatibility documentation</a>.</p>
<h2 id="what-implementations-of-mysql-we-have-in-fedora">What implementations of MySQL we have in Fedora</h2>
<p><a href="https://src.fedoraproject.org/rpms/mariadb">MariaDB</a> is preferred MySQL implementation in Fedora. MariaDB can be usually used instead of MySQL as a drop-in replacement in most practical cases and most of the applications will work exactly the same. However, when you need to install Community MySQL, it is available as <a href="https://src.fedoraproject.org/rpms/community-mysql">community-mysql package</a> in Fedora repositories.</p>
<p>Generally, most of the <a href="http://dev.mysql.com/doc/">documentation for MySQL</a> is valid also for MariaDB.</p>
<h2 id="what-versions-do-we-have-in-fedora">What versions do we have in Fedora</h2>
<p>Fedora usually ships only the most recent stable version of MariaDB.
You can find various (unsupported) versions in the maintainer’s <a href="https://copr.fedorainfracloud.org/coprs/mschorm/">COPR repositories</a>.
Learn more about current version at <a href="https://mariadb.com/kb/en/library/library-mariadb-releases/">upstream documentation</a>. The package is called <code class="highlighter-rouge">mariadb</code> (client tools) and <code class="highlighter-rouge">mariadb-server</code> (server daemon).</p>
<p>You can get an older version either by installing <a href="https://www.softwarecollections.org/en/scls/rhscl/mariadb55/">Software Collection package of MariaDB 5.5</a> or by downloading <a href="https://downloads.mariadb.org/">packages provided by upstream</a>.</p>
<p>Fedora also ships MariaDB with Galera patch. The package with MariaDB Galera is called <code class="highlighter-rouge">mariadb-galera-server</code> and the wsrep plug-in is available in package <code class="highlighter-rouge">galera</code>. See section <a href="#how-to-install-mariadb-galera-on-fedora">How to install MariaDB Galera on Fedora</a> for more information.</p>
<h2 id="how-to-install-mariadb-on-fedora">How to install MariaDB on Fedora</h2>
<p>In order to install MariaDB client package, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install mariadb
</code></pre></div></div>
<p>In order to install MariaDB server package, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install mariadb-server
</code></pre></div></div>
<p>If you need to connect to the MariaDB server using GUI, install either phpMyAdmin:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install phpMyAdmin
</code></pre></div></div>
<p>Or install Libre Office Base with JDBC plug-in for MariaDB:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install libreoffice-base mariadb-java-client
</code></pre></div></div>
<p>For connecting to the MariaDB server using ODBC, install <code class="highlighter-rouge">unixODBC</code> and <code class="highlighter-rouge">mariadb-connector-odbc</code> packages:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install mariadb-connector-odbc
</code></pre></div></div>
<h2 id="basic-tutorial-for-mariadb-in-fedora">Basic tutorial for MariaDB in Fedora</h2>
<p>MariaDB runs on port 3306 by default and creates a local unix socket at <code class="highlighter-rouge">/var/lib/mysql/mysql.sock</code>. By default, data is stored in the <code class="highlighter-rouge">/var/lib/mysql</code> directory and logs are located under <code class="highlighter-rouge">/var/log/mariadb/</code>. In order to change these directories, pay attention to use correct SELinux context and owner.</p>
<p>Right after installing, the data directory is empty. It is initialized during the first start.</p>
<p>To start MariaDB server, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo systemctl start mariadb
</code></pre></div></div>
<p>In order to setup MariaDB to start after system reboot, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo systemctl enable mariadb
</code></pre></div></div>
<p>The root user has no password set by default and so it is allowed to connect without the password:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql -u root
</code></pre></div></div>
<p>It is suggested to make the MariaDB more secure by running secure installation assistant:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo mysql_secure_installation
</code></pre></div></div>
<p>This tool asks you several questions and you are supposed to answer interactively. Do not provide the system administrator’s password for your Linux system here. Use a different strong password, since this is a separate authentication for a MySQL user called “root.”</p>
<h2 id="how-to-configure-mariadb">How to configure MariaDB</h2>
<p>Configuration of both, client and server, is done by editing files <code class="highlighter-rouge">/etc/my.cnf</code>, <code class="highlighter-rouge">~/.my.cnf</code> and any files under <code class="highlighter-rouge">/etc/my.cnf.d/</code> with <code class="highlighter-rouge">.cnf</code> suffix. For more informations how to change configuration, see <a href="https://mariadb.com/kb/en/mariadb/server-system-variables/#about-the-server-system-variables">the upstream documentation</a>.</p>
<h3 id="how-to-configure-mariadb-server-for-local-development">How to configure MariaDB server for local development</h3>
<p>When developing an application that uses MariaDB as the storage engine, developers typically use one user account that has full access to one dedicated database scheme. In order to do so, run the commands from section <a href="#basic-tutorial-for-mariadb-in-fedora">Basic tutorial for MariaDB in Fedora</a> and then create the user and the dedicated database:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo systemctl start mariadb
$ sudo systemctl enable mariadb
$ sudo mysql_secure_installation
...My Account sudo mysql -u root -p
MariaDB [(none)]&gt; create database db1;
Query OK, 1 row affected (0.00 sec)

MariaDB [(none)]&gt; CREATE USER 'valeria'@'localhost' IDENTIFIED BY 'secretpass';
Query OK, 0 rows affected (0.00 sec)

MariaDB [(none)]&gt; GRANT ALL ON db1.* TO 'valeria'@'localhost';
Query OK, 0 rows affected (0.00 sec)

MariaDB [(none)]&gt; exit
Bye
</code></pre></div></div>
<p>After that you may access the database from MariaDB command-line tool by running:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mysql -u valeria -p
</code></pre></div></div>
<p>By specifying  <code class="highlighter-rouge">-p</code> without password, you’ll be asked for the password interactively.</p>
<p>In various frameworks or libraries, you will usually use the username, password and database to access the database.</p>
<h3 id="how-to-run-mariadb-in-production-development">How to run MariaDB in production development</h3>
<p>In order to run MariaDB in production development, you should pay extra attention to setting up the service in order to minimize the risk of being exploited. Among other things, this means:</p>
<ul>
  <li>use <code class="highlighter-rouge">mysql_secure_installation</code> as mentioned above</li>
  <li>do not accept connections from all addresses unless absolutely necessary</li>
  <li><strong>Always use a strong password</strong></li>
  <li>Limit user permissions to those necessary for the application to run</li>
</ul>
<p>By default, MariaDB cannot be accessed from another computer. In order to allow access from another computer, we need to do the following things.</p>
<p>Allow to accept connections on port 3306:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>firewall-cmd --permanent --zone=public --add-port=3306/tcp
</code></pre></div></div>
<p>Allow to listen on all interfaces (or your preferred network interface) by adding configuration option:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bind-address = 0.0.0.0
</code></pre></div></div>
<h3 id="other-common-configuration">Other common configuration</h3>
<p>In order to change configuration parameters for the MariaDB server, create the a configuration file under <code class="highlighter-rouge">/etc/my.cnf.d/</code> directory.</p>
<p>The following example shows content of the file <code class="highlighter-rouge">/etc/my.cnf.d/myconfig.cnf</code> which contains several commonly changed options (use any variables that matches your needs).</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># The maximum permitted number of simultaneous client connections:
max_connections = 20

# The minimum length of the word to be included in a FULLTEXT index:
ft_min_word_len = 3

# The maximum length of the word to be included in a FULLTEXT index:
ft_max_word_len = My Account

# In case the native AIO is broken, it can be disabled by:
innodb_use_native_aio = 0

# Log slow queries:
slow_query_log = 1
slow_query_log_file = "/var/log/mariadb/slowquery.log"

# Log all queries (e.g. for debugging):
general_log = 1
general_log_file = "/var/log/mariadb/query.log"
</code></pre></div></div>
<p>After changing the configuration, restart the daemon using <code class="highlighter-rouge">$ sudo systemctl restart mariadb</code>.</p>
<h2 id="how-to-install-mariadb-galera-on-fedora"><a name="how-to-install-mariadb-galera-on-fedora"></a>How to install MariaDB Galera on Fedora</h2>
<p>MariaDB Galera Cluster is a synchronous multi-master cluster for MariaDB.</p>
<p>In order to install MariaDB Galera server package, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo dnf install mariadb-galera-server galera
</code></pre></div></div>
<p>MariaDB Galera uses several packages from base MariaDB and also provides the same service name. Thus, for starting MariaDB Galera, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo systemctl start mariadb
</code></pre></div></div>
<h2 id="how-to-get-mariadb-as-docker-container">How to get MariaDB as Docker container</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo docker pull fedora/mariadb
</code></pre></div></div>
<h2 id="how-to-extend-mariadb-server-by-installing-extensions-available-in-fedora">How to extend MariaDB server by installing extensions available in Fedora</h2>
<p><a href="https://mariadb.com/kb/en/mariadb/connect/">MariaDB Connect Storage Engine</a> enables MariaDB to access external local or remote data (MED). In order to install this engine, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dnf install mariadb-connect-engine
</code></pre></div></div>
<p>In order to install <a href="https://mariadb.com/kb/en/mariadb/oqgraph-storage-engine/">The Open Query GRAPH computation engine</a>, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dnf install mariadb-oqgraph-engine
</code></pre></div></div>
<h2 id="mariadb-server-available-as-a-dynamic-library">MariaDB server available as a dynamic library:</h2>
<p>In Fedora, MariaDB server is available also as a dynamic library, that can be handy in some applications. This library (<code class="highlighter-rouge">libmysqld.so</code>) is available in the package <code class="highlighter-rouge">mariadb-embedded</code> and header files for building an application against this library are available in the package <code class="highlighter-rouge">mariadb-embedded-devel</code>.</p>
<p>However the use of the embedded library is discouraged. MySQL 8 dropped the embedded library and I expect MariaDB to go in the same direction.</p>
<p style="text-align: center">Authors: <a href="mailto:%61%73%61%6D%61%6C%69%6B@%72%65%64%68%61%74.%63%6F%6D">Adam Samalik</a>, <a href="mailto:%6D%73%63%68%6F%72%6D@%63%65%6E%74%72%75%6D.%63%7A">FaramosCZ</a>, <a href="mailto:%68%68%6F%72%61%6B@%72%65%64%68%61%74.%63%6F%6D">Honza Horak</a>, <a href="mailto:%61%6E%74%6F%6E%69%6E.%6D%72%6B%76%69%63%61@%6F%75%74%6C%6F%6F%6B.%63%7A">antoninmrkvica</a>, <a href="mailto:%72%69%63%6B%79.%67%72%61%73%73%6D%75%63%6B@%67%6D%61%69%6C.%63%6F%6D">ricky grassmuck</a></p>
          </div>
        </div>
      </div>
    </div>
    <!-- Some other stuff -->
    <div class=" banner-contribute">
  <div class="container">
    <h2> Share your knowledge </h2>
    <p> Fedora Developer Portal is a community effort to share guides and information about open-source development. And we need your help! </p>
    <a href="http://developer-portal.github.io/contributing/" class="btn btn-primary">Learn how to contribute</a>
  </div>
</div>
    <footer class="footer">
  <div class="container">
    <div class="row footerlinks">
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title">About</h3>
        <div class="widget-body">
          <dl>
            <dd><a href="/about.html">About Developer Portal</a></dd>
            <dd><a href="https://getfedora.org/en/sponsors">About Fedora</a></dd>
            <dd><a href="https://getfedora.org/en/sponsors">Sponsors</a></dd>
            <dd><a href="https://fedoramagazine.org">Fedora Magazine</a></dd>
            <dd><a href="https://fedoraproject.org/wiki/Legal:Main#Legal">Legal</a></dd>
          </dl>
          <ul class="list-inline">
            <li>
              <a class="btn-social btn-outline" href="https://www.facebook.com/TheFedoraProject"><i class="fa fa-fw fa-facebook"></i></a>
            </li>
            <li>
              <a class="btn-social btn-outline" href="https://plus.google.com/112917221531140868607"><i class="fa fa-fw fa-google-plus"></i></a>
            </li>
            <li>
              <a class="btn-social btn-outline" href="https://twitter.com/fedora"><i class="fa fa-fw fa-twitter"></i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title uppercase">Download</h3>
        <div class="widget-body">
          <dl>
            <dd><a href="https://getfedora.org/en/workstation/download/">Get Fedora Workstation</a></dd>
            <dd><a href="https://getfedora.org/en/server/download/">Get Fedora Server</a></dd>
            <dd><a href="https://alt.fedoraproject.org/en/cloud/">Get Fedora Cloud</a></dd>
            <dd><a href="https://spins.fedoraproject.org">Fedora Spins</a></dd>
            <dd><a href="https://labs.fedoraproject.org">Fedora Labs</a></dd>
            <dd><a href="https://arm.fedoraproject.org">Fedora ARM<span class="sup">&reg;</span></a></dd>
            <dd><a href="https://torrents.fedoraproject.org">Torrent Downloads</a></dd>
          </dl>
        </div>
      </div>
      <div class="col-sm-3 col-xs-6 widget">
        <h3 class="widget-title">Support</h3>
          <div class="widget-body">
            <dl>
              <dd><a href="https://fedoraproject.org/wiki/Communicating_and_getting_help">Get Help</a></dd>
              <dd><a href="https://ask.fedoraproject.org/">Ask Fedora</a></dd>
              <dd><a href="https://fedoraforum.org/">Forums</a></dd>
              <dd><a href="https://fedoraproject.org/wiki/Common_F25_bugs">Common Bugs</a></dd>
              <dd><a href="https://docs.fedoraproject.org/en-US/Fedora/25/html/Installation_Guide">Installation Guide</a></dd>
            </dl>
          </div>
        </div>
        <div class="col-sm-3 col-xs-6 widget">
          <h3 class="widget-title">Join</h3>
            <div class="widget-body">
            <dl>
              <dd><a href="https://fedoraproject.org/wiki/Join">Join Fedora</a></dd>
              <dd><a href="http://fedoraplanet.org">Planet Fedora</a></dd>
              <dd><a href="https://fedoraproject.org/wiki/SIGs">Fedora SIGs</a></dd>
              <dd><a href="https://admin.fedoraproject.org/accounts/">Fedora Account System</a></dd>
              <dd><a href="https://fedoracommunity.org/">Fedora Community</a></dd>
            </dl>
          </div>
        </div>
      </div> <!-- /row of widgets -->
      <div class="row">
        <div class="col-md-2">
          <div class="widget-body">
            <a href="https://www.redhat.com/"><img alt="Red Hat Logo" src="/static/logo/redhat.png" class="rh-logo"></a>
          </div>
        </div>
        <div class="col-md-7">
          <div class="widget-body">
            <p class="sponsor">Fedora is sponsored by Red Hat.</p>
            <p class="sponsor"><a href="https://www.redhat.com/en/technologies/linux-platforms/articles/relationship-between-fedora-and-rhel">Learn more about the relationship between Red Hat and Fedora »</a></p>
            <p class="copy">&copy; 2018 Red Hat, Inc. and others.</p>
          </div>
        </div>
        <!-- /row of widgets -->
      </div>
</footer>
  </body>
</html>
